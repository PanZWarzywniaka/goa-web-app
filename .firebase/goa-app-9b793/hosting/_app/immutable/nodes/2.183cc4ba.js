import{s as D,g as p,c as C,h as v,i as S,x as H,d as P,k as y,w as L,y as N,l as U,m as F}from"../chunks/scheduler.17b940cc.js";import{g as M}from"../chunks/globals.7f7f1b26.js";import{S as V,i as z,d as E,v as G,o as O,e as _,g as b,a as B,n as m,p as J,s as K}from"../chunks/index.fa92f6d7.js";const A=(s,e=300)=>{let o;return(...n)=>{clearTimeout(o),o=setTimeout(()=>s(...n),e)}},{console:Q}=M,k="src/routes/+page.svelte";function T(s,e,o){const n=s.slice();return n[2]=e[o],n}function R(s){let e,o=O(s[0]),n=[];for(let l=0;l<o.length;l+=1)n[l]=x(T(s,o,l));const f={c:function(){e=p("ul");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l:function(a){e=v(a,"UL",{});var i=S(e);for(let t=0;t<n.length;t+=1)n[t].l(i);i.forEach(_),this.h()},h:function(){y(e,k,42,3,835)},m:function(a,i){B(a,e,i);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null)},p:function(a,i){if(i&1){o=O(a[0]);let t;for(t=0;t<o.length;t+=1){const r=T(a,o,t);n[t]?n[t].p(r,i):(n[t]=x(r),n[t].c(),n[t].m(e,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=o.length}},d:function(a){a&&_(e),N(n,a)}};return E("SvelteRegisterBlock",{block:f,id:R.name,type:"if",source:"(32:2) {#if foundSuggestions.length > 0}",ctx:s}),f}function x(s){let e,o,n=s[2].display_name+"",f,l,a;const i={c:function(){e=p("li"),o=p("a"),f=U(n),a=C(),this.h()},l:function(r){e=v(r,"LI",{class:!0});var u=S(e);o=v(u,"A",{href:!0});var c=S(o);f=F(c,n),c.forEach(_),a=P(u),u.forEach(_),this.h()},h:function(){b(o,"href",l=s[2].url),y(o,k,45,6,974),b(e,"class","flex px-4 py-2 border border-gray-200 bg-gray-50 hover:bg-gray-200"),y(e,k,44,5,888)},m:function(r,u){B(r,e,u),m(e,o),m(o,f),m(e,a)},p:function(r,u){u&1&&n!==(n=r[2].display_name+"")&&K(f,n),u&1&&l!==(l=r[2].url)&&b(o,"href",l)},d:function(r){r&&_(e)}};return E("SvelteRegisterBlock",{block:i,id:x.name,type:"each",source:"(34:4) {#each foundSuggestions as suggestion}",ctx:s}),i}function q(s){let e,o,n,f="Hello",l,a,i,t,r,u,c=s[0].length>0&&R(s);const w={c:function(){e=p("div"),o=p("h1"),n=p("a"),n.textContent=f,l=C(),a=p("form"),i=p("input"),t=C(),c&&c.c(),this.h()},l:function(d){e=v(d,"DIV",{class:!0});var g=S(e);o=v(g,"H1",{});var I=S(o);n=v(I,"A",{href:!0,"data-svelte-h":!0}),H(n)!=="svelte-e15n19"&&(n.textContent=f),I.forEach(_),l=P(g),a=v(g,"FORM",{});var j=S(a);i=v(j,"INPUT",{name:!0,type:!0,placeholder:!0}),t=P(j),c&&c.l(j),j.forEach(_),g.forEach(_),this.h()},h:function(){b(n,"href","/"),y(n,k,32,5,639),y(o,k,32,1,635),b(i,"name","search"),b(i,"type","search"),b(i,"placeholder","Search location"),y(i,k,34,2,676),y(a,k,33,1,667),b(e,"class","col-lg-6 col-md-8 mx-auto"),y(e,k,31,0,594)},m:function(d,g){B(d,e,g),m(e,o),m(o,n),m(e,l),m(e,a),m(a,i),m(a,t),c&&c.m(a,null),r||(u=J(i,"keyup",A(s[1]),!1,!1,!1,!1),r=!0)},p:function(d,[g]){d[0].length>0?c?c.p(d,g):(c=R(d),c.c(),c.m(a,null)):c&&(c.d(1),c=null)},i:L,o:L,d:function(d){d&&_(e),c&&c.d(),r=!1,u()}};return E("SvelteRegisterBlock",{block:w,id:q.name,type:"component",source:"",ctx:s}),w}function W(s,e,o){let{$$slots:n={},$$scope:f}=e;G("Page",n,[]);let l=[];const a=async t=>{const u=t.target.value;if(!u||u.length===0){o(0,l=[]);return}const c=`https://nominatim.openstreetmap.org/search?q=${u}&limit=10&format=json`,w=await(await fetch(c)).json();console.log(w),o(0,l=w.map(h=>(h.url=`/map?lat=${h.lat}&lon=${h.lon}`,h)))},i=[];return Object.keys(e).forEach(t=>{!~i.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&Q.warn(`<Page> was created with unknown prop '${t}'`)}),s.$capture_state=()=>({debounce:A,foundSuggestions:l,searchLocations:a}),s.$inject_state=t=>{"foundSuggestions"in t&&o(0,l=t.foundSuggestions)},e&&"$$inject"in e&&s.$inject_state(e.$$inject),s.$$.update=()=>{s.$$.dirty&1&&console.log(l)},[l,a]}class $ extends V{constructor(e){super(e),z(this,e,W,q,D,{}),E("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:q.name})}}export{$ as component};
